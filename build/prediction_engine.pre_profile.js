function weight(x){ return 2097152 * x.network_depth + 256 * x.total_gates + 256 * x.network_size + x.preprocess_weight;}var pre_profile = { 'code':
{"source_file":"use arcis::*;\n\n#[encrypted]\nmod prediction_engine {\n    use arcis::*;\n\n    pub struct MarketState {\n        pub yes_pool: u64,\n        pub no_pool: u64,\n    }\n\n    pub struct BetInput {\n        pub amount: u64,\n        pub side: u64, // 1 = YES, 2 = NO\n    }\n\n    // 状态更新输出\n    pub struct StateUpdateResult {\n        pub new_yes_pool: u64,\n        pub new_no_pool: u64,\n    }\n\n    #[instruction]\n    pub fn update_market_state(\n        current_state: Enc<Shared, MarketState>,\n        user_bet: Enc<Shared, BetInput>\n    ) -> Enc<Shared, StateUpdateResult> {\n        let state = current_state.to_arcis();\n        let bet = user_bet.to_arcis();\n\n        // 核心逻辑：使用 Mux 根据用户选择更新对应的池子\n        // Side 1 (YES): YesPool + Amount\n        // Side 2 (NO):  NoPool + Amount\n        \n        let is_yes = bet.side == 1;\n        \n        let added_yes = if is_yes { bet.amount } else { 0 };\n        let added_no  = if is_yes { 0 } else { bet.amount };\n\n        let new_yes = state.yes_pool + added_yes;\n        let new_no  = state.no_pool + added_no;\n\n        let result = StateUpdateResult {\n            new_yes_pool: new_yes,\n            new_no_pool: new_no,\n        };\n\n        // 返回给 Program (Owner) 更新链上状态\n        current_state.owner.from_arcis(result)\n    }\n}","code":[{"code":"self.owner","region":"Unknown"},{"code":"self.data","region":"Unknown"},{"code":"Self :: __arcis_inner(self.owner, self.data)","region":"Unknown"},{"code":"let state = current_state.to_arcis();","region":{"Known":[{"line":27,"column":8},{"line":27,"column":45}]}},{"code":"let bet = user_bet.to_arcis();","region":{"Known":[{"line":28,"column":8},{"line":28,"column":38}]}},{"code":"let is_yes = bet.side == 1;","region":{"Known":[{"line":34,"column":8},{"line":34,"column":35}]}},{"code":"is_yes","region":{"Known":[{"line":36,"column":27},{"line":36,"column":33}]}},{"code":"0","region":{"Known":[{"line":36,"column":56},{"line":36,"column":57}]}},{"code":"bet.amount","region":{"Known":[{"line":36,"column":36},{"line":36,"column":46}]}},{"code":"let added_yes = if is_yes { bet.amount } else { 0 };","region":{"Known":[{"line":36,"column":8},{"line":36,"column":60}]}},{"code":"is_yes","region":{"Known":[{"line":37,"column":27},{"line":37,"column":33}]}},{"code":"bet.amount","region":{"Known":[{"line":37,"column":47},{"line":37,"column":57}]}},{"code":"0","region":{"Known":[{"line":37,"column":36},{"line":37,"column":37}]}},{"code":"let added_no = if is_yes { 0 } else { bet.amount };","region":{"Known":[{"line":37,"column":8},{"line":37,"column":60}]}},{"code":"let new_yes = state.yes_pool + added_yes;","region":{"Known":[{"line":39,"column":8},{"line":39,"column":49}]}},{"code":"let new_no = state.no_pool + added_no;","region":{"Known":[{"line":40,"column":8},{"line":40,"column":47}]}},{"code":"new_yes","region":{"Known":[{"line":43,"column":26},{"line":43,"column":33}]}},{"code":"new_no","region":{"Known":[{"line":44,"column":25},{"line":44,"column":31}]}},{"code":"let result = StateUpdateResult\n{ new_yes_pool : new_yes, new_no_pool : new_no, };","region":{"Known":[{"line":42,"column":8},{"line":45,"column":10}]}},{"code":"result","region":{"Known":[{"line":48,"column":39},{"line":48,"column":45}]}},{"code":"1","region":"Unknown"},{"code":"fn inner < T > (a : T, b : T) -> T { ((a + b) as ArcisField) as T }","region":"Unknown"},{"code":"self","region":"Unknown"},{"code":"other","region":"Unknown"},{"code":"a + b","region":"Unknown"},{"code":"(a + b) as ArcisField","region":"Unknown"},{"code":"((a + b) as ArcisField) as T","region":"Unknown"},{"code":"inner(self, other)","region":"Unknown"},{"code":"self.nonce = self.nonce.wrapping_add(1);","region":"Unknown"},{"code":"self","region":"Unknown"},{"code":"a","region":"Unknown"},{"code":"a","region":"Unknown"},{"code":"self.from_arcis_inner(a)","region":"Unknown"},{"code":"a","region":"Unknown"},{"code":"let phantom = [a; 0];","region":"Unknown"},{"code":"data","region":"Unknown"},{"code":"phantom","region":"Unknown"},{"code":"let data = EncData { data, phantom };","region":"Unknown"},{"code":"owner","region":"Unknown"},{"code":"data","region":"Unknown"},{"code":"Self { owner, data }","region":"Unknown"},{"code":"Enc :: new_inner(self, a, self.from_arcis_inner(a))","region":"Unknown"},{"code":"current_state.owner.from_arcis(result)","region":{"Known":[{"line":48,"column":8},{"line":48,"column":46}]}}]}
, 'instructions':
{"update_market_state":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":3,"before_size_id":0,"after_size_id":2},{"code_idx":0,"before_size_id":2,"after_size_id":2},{"code_idx":1,"before_size_id":2,"after_size_id":2},{"code_idx":2,"before_size_id":2,"after_size_id":3},{"code_idx":4,"before_size_id":2,"after_size_id":3},{"code_idx":5,"before_size_id":3,"after_size_id":4},{"code_idx":6,"before_size_id":4,"after_size_id":4},{"code_idx":7,"before_size_id":4,"after_size_id":4},{"code_idx":8,"before_size_id":4,"after_size_id":4},{"code_idx":9,"before_size_id":4,"after_size_id":5},{"code_idx":10,"before_size_id":5,"after_size_id":5},{"code_idx":11,"before_size_id":5,"after_size_id":5},{"code_idx":12,"before_size_id":5,"after_size_id":5},{"code_idx":13,"before_size_id":5,"after_size_id":6},{"code_idx":14,"before_size_id":6,"after_size_id":7},{"code_idx":15,"before_size_id":7,"after_size_id":8},{"code_idx":16,"before_size_id":8,"after_size_id":8},{"code_idx":17,"before_size_id":8,"after_size_id":8},{"code_idx":18,"before_size_id":8,"after_size_id":8},{"code_idx":19,"before_size_id":8,"after_size_id":8},{"code_idx":20,"before_size_id":8,"after_size_id":8},{"code_idx":21,"before_size_id":8,"after_size_id":8},{"code_idx":22,"before_size_id":8,"after_size_id":8},{"code_idx":23,"before_size_id":8,"after_size_id":8},{"code_idx":24,"before_size_id":8,"after_size_id":9},{"code_idx":25,"before_size_id":8,"after_size_id":9},{"code_idx":26,"before_size_id":8,"after_size_id":10},{"code_idx":27,"before_size_id":8,"after_size_id":10},{"code_idx":28,"before_size_id":8,"after_size_id":10},{"code_idx":29,"before_size_id":10,"after_size_id":10},{"code_idx":30,"before_size_id":10,"after_size_id":10},{"code_idx":31,"before_size_id":10,"after_size_id":10},{"code_idx":32,"before_size_id":10,"after_size_id":11},{"code_idx":33,"before_size_id":11,"after_size_id":11},{"code_idx":34,"before_size_id":11,"after_size_id":11},{"code_idx":35,"before_size_id":11,"after_size_id":11},{"code_idx":36,"before_size_id":11,"after_size_id":11},{"code_idx":37,"before_size_id":11,"after_size_id":11},{"code_idx":38,"before_size_id":11,"after_size_id":11},{"code_idx":39,"before_size_id":11,"after_size_id":11},{"code_idx":40,"before_size_id":11,"after_size_id":11},{"code_idx":41,"before_size_id":10,"after_size_id":11},{"code_idx":42,"before_size_id":8,"after_size_id":11}]}}
, 'instruction_locations':
{"update_market_state":{"Known":[{"line":22,"column":4},{"line":22,"column":18}]}}
};
